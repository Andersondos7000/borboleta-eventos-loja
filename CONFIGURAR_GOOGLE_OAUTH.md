# Configura√ß√£o do Google OAuth para Supabase Local

## üö® Erro Atual
```
Erro 401: invalid_client
The OAuth client was not found.
```

## üìã Causa do Problema
As credenciais do Google OAuth no arquivo `.env.local` est√£o com valores placeholder em vez das credenciais reais do Google Cloud Console.

## ‚úÖ Solu√ß√£o Passo a Passo

### 1. Configurar no Google Cloud Console

1. **Acesse o Google Cloud Console**: https://console.cloud.google.com/

2. **Crie ou selecione um projeto**:
   - Se n√£o tiver um projeto, clique em "Novo Projeto"
   - D√™ um nome ao projeto (ex: "Borboleta Eventos")

3. **Habilite a Google+ API**:
   - V√° para "APIs e Servi√ßos" > "Biblioteca"
   - Procure por "Google+ API" e habilite

4. **Crie credenciais OAuth 2.0**:
   - V√° para "APIs e Servi√ßos" > "Credenciais"
   - Clique em "+ CRIAR CREDENCIAIS" > "ID do cliente OAuth"
   - Escolha "Aplicativo da Web"

5. **Configure as URLs de redirecionamento**:
   ```
   URLs de redirecionamento autorizadas:
   http://localhost:54321/auth/v1/callback
   http://localhost:3000
   ```

6. **Copie as credenciais**:
   - Ap√≥s criar, voc√™ receber√°:
     - **Client ID**: algo como `123456789-abcdef.apps.googleusercontent.com`
     - **Client Secret**: algo como `GOCSPX-abcdef123456`

### 2. Atualizar o arquivo .env.local

Substitua as linhas no arquivo `.env.local`:

```env
# Antes (valores placeholder)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
SUPABASE_AUTH_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com

# Depois (valores reais do Google Cloud Console)
GOOGLE_CLIENT_ID=123456789-abcdef.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-abcdef123456
SUPABASE_AUTH_GOOGLE_CLIENT_ID=123456789-abcdef.apps.googleusercontent.com
```

### 3. Reiniciar os Servi√ßos

Ap√≥s atualizar as credenciais:

```bash
# Parar o Supabase
supabase stop

# Iniciar o Supabase
supabase start

# Reiniciar o servidor React (Ctrl+C e depois npm run dev)
```

### 4. Testar a Autentica√ß√£o

1. Acesse `http://localhost:3000`
2. Clique em "Login com Google"
3. Deve abrir a tela de autentica√ß√£o do Google
4. Ap√≥s autorizar, deve redirecionar de volta para a aplica√ß√£o

## üîß Configura√ß√£o Atual do Supabase

O arquivo `supabase/config.toml` j√° est√° configurado com:

```toml
[auth.external.google]
enabled = true
client_id = "env(GOOGLE_CLIENT_ID)"
secret = "env(GOOGLE_CLIENT_SECRET)"
redirect_uri = "http://localhost:54321/auth/v1/callback"
```

## üìù URLs Importantes

- **Aplica√ß√£o**: http://localhost:3000
- **Supabase Studio**: http://localhost:54323
- **Callback URL**: http://localhost:54321/auth/v1/callback

## ‚ö†Ô∏è Importante

- **Nunca commite** as credenciais reais no Git
- Use apenas para desenvolvimento local
- Para produ√ß√£o, configure credenciais separadas
- Mantenha o `.env.local` no `.gitignore`

## üÜò Troubleshooting

Se ainda houver problemas:

1. **Verifique se as URLs est√£o corretas** no Google Cloud Console
2. **Confirme que a Google+ API est√° habilitada**
3. **Reinicie todos os servi√ßos** ap√≥s alterar credenciais
4. **Verifique os logs** do Supabase: `supabase logs`