{
  "phases": [
    {
      "name": "preparation",
      "description": "Preparação e backup",
      "startTime": 1756526419240,
      "steps": [
        {
          "step": "validate_environment",
          "success": true,
          "executionTime": 0
        },
        {
          "step": "create_backup",
          "success": true,
          "executionTime": 3
        },
        {
          "step": "generate_migration_scripts",
          "success": true,
          "executionTime": 66
        }
      ],
      "success": true,
      "endTime": 1756526419311,
      "executionTime": 71
    },
    {
      "name": "schema_migration",
      "description": "Migração de schema",
      "startTime": 1756526419312,
      "steps": [
        {
          "step": "migrate_cart_items",
          "success": true,
          "executionTime": 8
        },
        {
          "step": "migrate_customers",
          "success": true,
          "executionTime": 6
        },
        {
          "step": "migrate_orders",
          "success": true,
          "executionTime": 5
        },
        {
          "step": "migrate_order_items",
          "success": true,
          "executionTime": 5
        },
        {
          "step": "migrate_tickets",
          "success": true,
          "executionTime": 4
        },
        {
          "step": "migrate_profiles",
          "success": true,
          "executionTime": 3
        },
        {
          "step": "migrate_rls_metrics",
          "success": false,
          "error": "Script não encontrado: I:\\Protegido\\queren\\supabase\\migrations\\migrate_rls_metrics.sql",
          "executionTime": 0
        }
      ],
      "success": true,
      "endTime": 1756526419322,
      "executionTime": 10
    },
    {
      "name": "data_migration",
      "description": "Migração de dados",
      "startTime": 1756526419323,
      "steps": [
        {
          "step": "migrate_existing_data",
          "success": true,
          "executionTime": 1005
        },
        {
          "step": "update_sequences",
          "success": true,
          "executionTime": 4
        },
        {
          "step": "rebuild_indexes",
          "success": true,
          "executionTime": 3
        }
      ],
      "success": true,
      "endTime": 1756526420335,
      "executionTime": 1012
    },
    {
      "name": "functions_update",
      "description": "Atualização de Edge Functions",
      "startTime": 1756526420335,
      "steps": [
        {
          "step": "update_sync_functions",
          "success": true,
          "executionTime": 2
        },
        {
          "step": "update_abacatepay_manager",
          "success": true,
          "executionTime": 1
        },
        {
          "step": "update_monitoring_functions",
          "success": true,
          "executionTime": 1
        }
      ],
      "success": true,
      "endTime": 1756526420337,
      "executionTime": 2
    },
    {
      "name": "validation",
      "description": "Validação e testes",
      "startTime": 1756526420338,
      "steps": [
        {
          "step": "run_integrity_tests",
          "success": true,
          "executionTime": 17
        },
        {
          "step": "run_performance_tests",
          "success": true,
          "executionTime": 3
        },
        {
          "step": "validate_edge_functions",
          "success": true,
          "executionTime": 26
        }
      ],
      "success": true,
      "endTime": 1756526420385,
      "executionTime": 47
    }
  ],
  "totalTime": 0,
  "success": false,
  "errors": [
    {
      "timestamp": "2025-08-30T04:00:19.319Z",
      "message": "❌ migrate_rls_metrics falhou: Script não encontrado: I:\\Protegido\\queren\\supabase\\migrations\\migrate_rls_metrics.sql"
    }
  ],
  "warnings": [
    {
      "timestamp": "2025-08-30T04:00:20.372Z",
      "message": "Função sync-cart não está respondendo"
    },
    {
      "timestamp": "2025-08-30T04:00:20.379Z",
      "message": "Função sync-orders não está respondendo"
    },
    {
      "timestamp": "2025-08-30T04:00:20.385Z",
      "message": "Função abacatepay-manager não está respondendo"
    }
  ],
  "summary": {
    "totalTime": 0,
    "phases": 5,
    "errors": 1,
    "warnings": 3
  },
  "config": {
    "supabaseUrl": "https://ojxmfxbflbfinodkhixk.supabase.co",
    "supabaseKey": "[REDACTED]",
    "projectId": "ojxmfxbflbfinodkhixk",
    "backupDir": "I:\\Protegido\\queren\\backups",
    "migrationsDir": "I:\\Protegido\\queren\\supabase\\migrations",
    "reportsDir": "I:\\Protegido\\queren\\reports",
    "dryRun": true,
    "skipBackup": false,
    "skipValidation": false,
    "parallel": true
  }
}